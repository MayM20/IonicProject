{"version":3,"sources":["../../src/pages/buddies/buddies.module.ts","../../src/pages/buddies/buddies.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACkB;AACnB;AAaxC;IAAA;IAAgC,CAAC;IAApB,iBAAiB;QAX7B,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,6DAAW;aACZ;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,6DAAW,CAAC;aACtC;YACD,OAAO,EAAE;gBACP,6DAAW;aACZ;SACF,CAAC;OACW,iBAAiB,CAAG;IAAD,wBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;ACfY;AACgC;AACjB;AACY;AAErC;AAEhC;;;;;GAKG;AAEH;6CAC6C;AAM7C;IAOE,qBAAmB,OAAsB,EACtB,SAAoB,EACpB,WAAyB,EACzB,SAA0B,EAC1B,cAAgC;QAJnD,iBASC;QATkB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,gBAAW,GAAX,WAAW,CAAc;QACzB,cAAS,GAAT,SAAS,CAAiB;QAC1B,mBAAc,GAAd,cAAc,CAAkB;QAVnD,eAAU,GAAG,EAAa,CAAC;QAC3B,kDAAkD;QAClD,wBAAwB;QACxB,YAAO,GAAG,EAAE,CAAC;QACb,kBAAa,GAAG,EAAE,CAAC;QAOb,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,UAAC,GAAQ;YAC7C,KAAI,CAAC,aAAa,GAAG,GAAG,CAAC;YACzB,KAAI,CAAC,OAAO,GAAG,GAAG,CAAC;QACnB,CAAC,CAAC;IACR,CAAC;IAED,oCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;IAC5C,CAAC;IAED,gCAAU,GAAV,UAAW,SAAS;QAClB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC;QAClC,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC;QAC/B,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;YACnB,MAAM,CAAC;QACT,CAAC;QAED,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,UAAC,CAAC;YAC/C,EAAE,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC9D,MAAM,CAAC,IAAI,CAAC;YACd,CAAC;YACD,MAAM,CAAC,KAAK,CAAC;QACf,CAAC,CAAC;IACJ,CAAC;IAED,6BAAO,GAAP,UAAQ,SAAS;QAAjB,iBAsBC;QArBC,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,gDAAQ,CAAC,IAAI,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC;QACzD,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,SAAS,CAAC,GAAG,CAAC;QAC1C,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,KAAK,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC;YACvD,KAAK,CAAC,4BAA4B,CAAC,CAAC;QACtC,IAAI,CAAC,CAAC;YACJ,IAAI,cAAY,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACvC,KAAK,EAAE,cAAc;gBACrB,QAAQ,EAAE,2BAA2B,GAAG,SAAS,CAAC,WAAW;gBAC7D,OAAO,EAAE,CAAC,IAAI,CAAC;aAChB,CAAC,CAAC;YAEH,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAC,GAAQ;gBAC7D,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;oBAChB,cAAY,CAAC,OAAO,EAAE,CAAC;oBACvB,IAAI,QAAQ,GAAG,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;oBACrD,KAAI,CAAC,aAAa,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;gBACzC,CAAC;YACH,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG;gBACX,KAAK,CAAC,GAAG,CAAC,CAAC;YACb,CAAC,CAAC;QACJ,CAAC;IACH,CAAC;IA3DU,WAAW;QAJvB,wEAAS,CAAC;YACT,QAAQ,EAAE,cAAc;WACG;SAC5B,CAAC;6EAQyC;YACX,0EAAS;YACP,sEAAY;YACd,sFAAe;YACV,QAAgB;OAXxC,WAAW,CA6DvB;IAAD,CAAC;AAAA;SA7DY,WAAW,e","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule, IonicPage } from 'ionic-angular';\nimport { BuddiesPage } from './buddies';\n\n@NgModule({\n  declarations: [\n    BuddiesPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(BuddiesPage),\n  ],\n  exports: [\n    BuddiesPage \n  ]\n})\nexport class BuddiesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/buddies/buddies.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\nimport { UserProvider } from '../../providers/user/user';\nimport { RequestsProvider } from '../../providers/requests/requests';\nimport { connreq } from '../../models/interfaces/request';\nimport firebase from 'firebase';\n\n/**\n * Generated class for the BuddiesPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n/*Display the list of users registered in the application. From there,\nthe user can add people to his friends list*/ \n@IonicPage()\n@Component({\n  selector: 'page-buddies',\n  templateUrl: 'buddies.html',\n})\nexport class BuddiesPage {\n  newrequest = {} as connreq;\n  //getting all the users from the users collection \n  //and returning an array\n  temparr = [];\n  filteredusers = [];\n\n  constructor(public navCtrl: NavController, \n              public navParams: NavParams,\n              public userservice: UserProvider,\n              public alertCtrl: AlertController, \n              public requestservice: RequestsProvider) {\n        this.userservice.getallusers().then((res: any) => {\n        this.filteredusers = res;\n        this.temparr = res;\n        })\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad BuddiesPage');\n  }\n\n  searchuser(searchbar) {\n    this.filteredusers = this.temparr;\n    var q = searchbar.target.value;\n    if (q.trim() == '') {\n      return;\n    }\n \n    this.filteredusers = this.filteredusers.filter((v) => {\n      if (v.displayName.toLowerCase().indexOf(q.toLowerCase()) > -1) {\n        return true;\n      }\n      return false;\n    })\n  }\n\n  sendreq(recipient) {\n    this.newrequest.sender = firebase.auth().currentUser.uid;\n    this.newrequest.recipient = recipient.uid;\n    if (this.newrequest.sender === this.newrequest.recipient)\n      alert('You are your friend always');\n    else {\n      let successalert = this.alertCtrl.create({\n        title: 'Request sent',\n        subTitle: 'Your request was sent to ' + recipient.displayName,\n        buttons: ['ok']\n      });\n    \n      this.requestservice.sendrequest(this.newrequest).then((res: any) => {\n        if (res.success) {\n          successalert.present();\n          let sentuser = this.filteredusers.indexOf(recipient);\n          this.filteredusers.splice(sentuser, 1);\n        }\n      }).catch((err) => {\n        alert(err);\n      })\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/buddies/buddies.ts"],"sourceRoot":""}